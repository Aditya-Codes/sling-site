
<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<HTML>
  <HEAD>
    <TITLE>Apache Sling - SlingDoc</TITLE>
    <LINK rel="stylesheet" href="http://incubator.apache.org/sling/site/media.data/site.css" type="text/css" media="all">
    <LINK rel="icon" href="http://incubator.apache.org/sling/site/media.data/favicon.ico">
    <META http-equiv="Content-Type" content="text/html;charset=UTF-8">
  </HEAD>
  <BODY><div class="siteconversion">This is an old version of the Sling website, see the <a href="http://sling.apache.org/site-conversion.html">site conversion page</a> for more info.</div>
    <DIV class="title">
      <DIV class="logo">
        <A href="http://incubator.apache.org/sling/site/index.html">
          <IMG border="0" alt="Apache Sling" src="http://incubator.apache.org/sling/site/media.data/logo.png">
        </A>
      </DIV>
      <DIV class="header">
        <A href="http://incubator.apache.org/">
          <IMG border="0" alt="Apache Incubator" src="http://incubator.apache.org/images/apache-incubator-logo.png">
        </A>
      </DIV>
    </DIV>
    <DIV class="menu">
                                    <UL>
	<LI><A href="documentation.html" title="Documentation">Documentation</A>
	<UL>
		<LI><A href="getting-started.html" title="Getting Started">Getting Started</A></LI>
		<LI><A href="the-sling-engine.html" title="The Sling Engine">The Sling Engine</A></LI>
		<LI><A href="development.html" title="Development">Development</A></LI>
		<LI><SPAN class="nobr"><A href="http://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=SLINGxSITE&title=Bundles&linkCreation=true&fromPageId=76152" title="Create Page: Bundles" class="createlink">Bundles<SUP><IMG class="rendericon" src="http://cwiki.apache.org/confluence/images/icons/plus.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
		<LI>Tutorials How-Tos</LI>
		<LI><SPAN class="nobr"><A href="http://cwiki.apache.org/SLING/" title="Visit page outside Confluence" rel="nofollow">Wiki<SUP><IMG class="rendericon" src="http://cwiki.apache.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
		<LI><A href="configuration.html" title="Configuration">Configuration</A></LI>
		<LI><SPAN class="nobr"><A href="http://incubator.apache.org/sling/apidocs/sling5/index.html" title="Visit page outside Confluence" rel="nofollow">Sling 5 API<SUP><IMG class="rendericon" src="http://cwiki.apache.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
		<LI><SPAN class="nobr"><A href="http://cwiki.apache.org/SLING/faq.html" title="Visit page outside Confluence" rel="nofollow">FAQ<SUP><IMG class="rendericon" src="http://cwiki.apache.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
	</UL>
	</LI>
	<LI><A href="advanced-topics.html" title="Advanced Topics">Advanced Topics</A></LI>
	<LI><A href="development.html" title="Development">Development</A></LI>
	<LI><SPAN class="nobr"><A href="http://incubator.apache.org/sling/site/downloads.cgi" title="Visit page outside Confluence" rel="nofollow">Downloads<SUP><IMG class="rendericon" src="http://cwiki.apache.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
	<LI><A href="contributing.html" title="Contributing">Contributing</A></LI>
	<LI><A href="links.html" title="Links">Links</A></LI>
	<LI><A href="project-information.html" title="Project Information">Project Information</A></LI>
	<LI><SPAN class="nobr"><A href="http://www.apache.org/foundation/thanks.html" title="Visit page outside Confluence" rel="nofollow">Sponsors<SUP><IMG class="rendericon" src="http://cwiki.apache.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
	<LI><SPAN class="nobr"><A href="http://www.apache.org/foundation/sponsorship.html" title="Visit page outside Confluence" rel="nofollow">Sponsorship<SUP><IMG class="rendericon" src="http://cwiki.apache.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN>

&lt;br&gt;style=&quot;border-width:0; float: left&quot; frameborder=&quot;0&quot; scrolling=&quot;no&quot;
width=&quot;135&quot; height=&quot;135&quot;&gt;

</LI>
</UL>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </DIV>
    <DIV class="main">
        <DIV class="breadcrump" style="font-size: 80%;">
<A href="apache-sling.html" title="Apache Sling Website">Apache Sling Website</A>&nbsp;&gt;&nbsp;<A href="apache-sling.html" title="Apache Sling">Apache Sling</A>&nbsp;&gt;&nbsp;<A href="documentation.html" title="Documentation">Documentation</A>&nbsp;&gt;&nbsp;<A href="development.html" title="Development">Development</A>&nbsp;&gt;&nbsp;<A href="" title="SlingDoc">SlingDoc</A>
        </DIV>
<H1><A name="SlingDoc-DocumentingSling"></A>Documenting Sling</H1>

<P>The basic documentation of Sling is made up of four parts:</P>

<OL>
	<LI>The Sling Site at <SPAN class="nobr"><A href="http://incubator.apache.org/sling" title="Visit page outside Confluence" rel="nofollow">http://incubator.apache.org/sling<SUP><IMG class="rendericon" src="http://cwiki.apache.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN> (you are here)</LI>
	<LI>The Public Wiki at <SPAN class="nobr"><A href="http://cwiki.apache.org/SLING" title="Visit page outside Confluence" rel="nofollow">http://cwiki.apache.org/SLING<SUP><IMG class="rendericon" src="http://cwiki.apache.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN></LI>
	<LI>The JavaDoc</LI>
	<LI>The Bundle documentation</LI>
</OL>


<P>This page is about how this documentation is maintained and who is allowed to do what.</P>


<H2><A name="SlingDoc-TheSlingSite"></A>The Sling Site</H2>

<H3><A name="SlingDoc-MainSite"></A>Main Site</H3>

<P>The main Sling Site is maintained in the Confluence Wiki Space <EM>SLINGxSITE</EM>. The contents of this space is automatically synchronized with the web server with a simple shell script <SPAN class="nobr"><A href="slingdoc.data/sling.sh" title="sling.sh attached to SlingDoc">sling.sh<SUP><IMG class="rendericon" src="http://cwiki.apache.org/confluence/images/icons/link_attachment_7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN> which is called regularly as per the following <TT>crontab</TT> entry:</P>

<DIV class="code"><DIV class="codeContent">
<PRE class="code-java"># sync wiki autoexport to Sling site
1 * * * * (/home/fmeschbe/sling.sh)</PRE>
</DIV></DIV>

<P>Thus, after editing the site source in the Wiki, the rest happens automatically, it just takes some time &ndash; in the order 2 hours or so &ndash; before the changes are visible at <SPAN class="nobr"><A href="http://incubator.apache.org/sling" title="Visit page outside Confluence" rel="nofollow">http://incubator.apache.org/sling<SUP><IMG class="rendericon" src="http://cwiki.apache.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN>.</P>

<P>Everybody is allowed to read the SLINGxSITE wiki and to add comments; but only committers of the Apache Sling project are allowed to edit the content and to manage the comments.</P>

<P>The main site is located in the <TT>site</TT> folder below the Site URL <SPAN class="nobr"><A href="http://incubator.apache.org/sling" title="Visit page outside Confluence" rel="nofollow">http://incubator.apache.org/sling<SUP><IMG class="rendericon" src="http://cwiki.apache.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN> to which users are redirected automatically.</P>

<H3><A name="SlingDoc-SecondarySite"></A>Secondary Site</H3>

<P>The Sling site contains secondary site parts which are maintained in the Apache SVN repository at <SPAN class="nobr"><A href="http://svn.apache.org/repos/asf/incubator/sling/site" title="Visit page outside Confluence" rel="nofollow">http://svn.apache.org/repos/asf/incubator/sling/site<SUP><IMG class="rendericon" src="http://cwiki.apache.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN>. Updates to secondary parts of the site have to be done in the following steps:</P>

<P>1. Checkout or update the <SPAN class="nobr"><A href="https://svn.apache.org/repos/asf/incubator/sling/site" title="Visit page outside Confluence" rel="nofollow">site<SUP><IMG class="rendericon" src="http://cwiki.apache.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN> tree form SVN</P>

<DIV class="code"><DIV class="codeContent">
<PRE class="code-java">$ svn checkout https:<SPAN class="code-comment">//svn.apache.org/repos/asf/incubator/sling/site</SPAN></PRE>
</DIV></DIV>

<P>2. Apply your changes</P>

<P>3. Commit the changes back into SVN</P>

<DIV class="code"><DIV class="codeContent">
<PRE class="code-java">$ svn commit -m<SPAN class="code-quote">&quot;&lt;enter your message here&gt;&quot;</SPAN></PRE>
</DIV></DIV>

<P>4. Login to <TT>people.apache.org</TT></P>

<DIV class="code"><DIV class="codeContent">
<PRE class="code-java">$ ssh people.apache.org</PRE>
</DIV></DIV>

<P>5. Goto the location from where infrastructure mirroring is getting the actual sites and update from SVN</P>

<DIV class="code"><DIV class="codeContent">
<PRE class="code-java">$ cd /x1/www/incubator.apache.org/sling
$ svn update</PRE>
</DIV></DIV>

<P>After some time, the updates will be synchronized to the web servers and can be accessed.</P>


<H2><A name="SlingDoc-ThePublicWiki"></A>The Public Wiki</H2>

<P>The public wiki of Sling is available at <SPAN class="nobr"><A href="http://cwiki.apache.org/SLING" title="Visit page outside Confluence" rel="nofollow">http://cwiki.apache.org/SLING<SUP><IMG class="rendericon" src="http://cwiki.apache.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN> and is maintained in the Confluence space <EM>SLING</EM>. This is a public wiki, in that after self-registration, everybody is allowed to edit content.</P>


<H2><A name="SlingDoc-TheJavaDoc"></A>The JavaDoc</H2>

<P>Up until now the JavaDoc of the Sling Bundles has not been published.</P>

<P>I just polished the JavaDoc generation setup of Sling a bit, so that I could generate a first shot of aggregate JavaDocs. This draft can currently be found on my site at <SPAN class="nobr"><A href="http://people.apache.org/~fmeschbe/slingdocs.762729/" title="Visit page outside Confluence" rel="nofollow">http://people.apache.org/~fmeschbe/slingdocs.762729/<SUP><IMG class="rendericon" src="http://cwiki.apache.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN>. This JavaDoc has been generated as follows:</P>

<DIV class="code"><DIV class="codeContent">
<PRE class="code-java">$ svn export -r 762729 http:<SPAN class="code-comment">//svn.apache.org/repos/asf/incubator/sling/trunk sling
</SPAN>$ mvn -DexcludePackageNames=<SPAN class="code-quote">&quot;*.impl:*.internal:*.jsp:sun.misc:*.juli&quot;</SPAN> org.apache.maven.plugins:maven-javadoc-plugin:2.5:aggregate</PRE>
</DIV></DIV>

<P>I am still unsure, whether it makes sense to generate aggregate JavaDoc for all (or part of) the bundles of Sling. See also below regarding the Sites.</P>


<H2><A name="SlingDoc-TheBundleDocumentation"></A>The Bundle Documentation</H2>

<P>Apart from the documentation of Sling on the Site and in the Wiki, it would also be thinkable, that we accompany the source modules with some documentation and generate this using the Maven Site plugin. My tests so far generating a multi-module site has not been very successfull. But generating the site in a module-by-module manner might be a good thing, at least to get the per-module JavaDoc and some more code-oriented information like Surefire Reports, fixed bugs, etc.</P>

<P>To prepare such Bundle Documentation I added a first shot at site generation setup to the parent project. For now, this includes the module's JavaDoc (of course), the Surefire reports and a report on the issues fixed (or open) with respect to some version. This site generation setup can be configured per module with two properties:</P>

<TABLE class="confluenceTable"><TBODY>
<TR>
<TH class="confluenceTh"> Property </TH>
<TH class="confluenceTh"> Description </TH>
</TR>
<TR>
<TD class="confluenceTd"> <TT>site.jira.version.id</TT> </TD>
<TD class="confluenceTd"> The ID of the JIRA version whose bugs are to be listed in the JIRA report. This is a number, such as 12313306 (Sling API version 2.0.4). </TD>
</TR>
<TR>
<TD class="confluenceTd"> <TT>site.javadoc.exclude</TT> </TD>
<TD class="confluenceTd"> The Java packages to not include with the JavaDoc generation. By default all packages containing <TT>impl</TT> or <TT>internal</TT> in their name are excluded. To add more packages for exlucsion, list them in the format suitable for the <SPAN class="nobr"><A href="http://maven.apache.org/plugins/maven-javadoc-plugin/javadoc-mojo.html#excludePackageNames" title="Visit page outside Confluence" rel="nofollow"><TT>excludePackageNames</TT><SUP><IMG class="rendericon" src="http://cwiki.apache.org/confluence/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0"></SUP></A></SPAN> property of the Maven JavaDoc plugin. For example, to exclude any <TT>jsp</TT> and <TT>juli</TT> packages (see the <EM>scripting/jsp</EM> bundle), this property would be set to <TT>&#42;.jsp:&#42;.juli</TT>. </TD>
</TR>
</TBODY></TABLE>
        <DIV class="timestamp" style="margin-top: 30px; font-size: 80%; text-align: right;">
Last modified by fmeschbe on 2009-04-29 05:11:12.0
        </DIV>
    </DIV>
  </BODY>
</HTML>

